{{- /* Renders all speakers with format == "Keynote" */ -}}
<style>
  .keynotes .avatar { width: 160px; height: 160px; border-radius: 9999px; background:#17202c; overflow:hidden; display:inline-block; box-shadow: 0 0 0 0 rgba(0,0,0,0); transition: box-shadow .2s ease, transform .2s ease; }
  .keynotes .avatar img { width:100%; height:100%; object-fit:cover; }
  .keynotes .name { font-weight:700; }
  .keynotes .role { color: rgba(255,255,255,.75); }
  .keynotes a:hover .avatar { box-shadow: 0 0 0 4px #6f42c1, 0 0 20px 10px #ff9900; transform: translateZ(0); }
  .keynotes .loc { color: rgba(255,255,255,.75); }
  .keynotes .flag-emoji, .keynotes .baltic-emoji { text-shadow: 0 0 3px #000, 0 0 8px rgba(255,255,255,.3); filter: saturate(1.25); }
</style>
<div class="keynotes row justify-content-center g-4">
  {{- $all := where site.RegularPages "Section" "speakers" -}}
  {{- $items := where $all ".Params.format" "==" "Keynote" -}}
  {{- range $items -}}
    {{- $photo := .Resources.GetMatch "img/photo*" -}}
    {{- if not $photo -}}{{- $photo = .Resources.GetMatch "img/*" -}}{{- end -}}
    {{- $href := .Params.linkedin | default .RelPermalink -}}
    <div class="col-12 col-md-6 col-lg-4 text-center">
      <a href="{{ $href }}" class="text-reset text-decoration-none d-inline-block" target="_blank" rel="noopener">
        <span class="avatar mb-2">{{ if $photo }}<img src="{{ $photo.RelPermalink }}" alt="{{ .Title }}" />{{ end }}</span>
        <div class="name h5 m-0">{{ .Title }}</div>
        {{- with .Params.headline -}}<div class="role">{{ . }}</div>{{- end -}}
        {{- $page := . -}}
        {{- with .Params.location -}}<div class="loc">{{ . }} <span style="font-size:1.35em; line-height:1; display:inline-block; vertical-align:middle;">{{ partial "flag.html" (dict "location" . "page" $page) }}</span></div>{{- end -}}
      </a>
    </div>
  {{- end -}}
</div>


